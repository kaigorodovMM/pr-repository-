     1                                  section .bss
     2 00000000 <res 64h>                   my_string resb 100   ; буфер для ввода
     3                                  
     4                                  section .text
     5                                      global _start
     6                                  
     7                                  reverse_string: ; функция обращения строка
     8                                      ; Помещение исходной строки в стек
     9 00000000 41B800000000                mov r8, 0           ; счётчик цикла
    10                                  push_loop:
    11 00000006 4939C8                      cmp r8, rcx         ; счётчик превысил длину?
    12 00000009 7D0A                        jge pop_chars       ; если достигли длины — завершение цикла
    13 0000000B 428A0407                    mov al, [rdi + r8]  ; загрузка в AL байта (символа) из my_string
    14 0000000F 50                          push rax            ; в стек
    15 00000010 49FFC0                      inc r8              ; ++
    16 00000013 EBF1                        jmp push_loop       ; повтор цикла
    17                                  
    18                                  
    19                                  pop_chars:
    20                                      ; Извлечение символов из стека
    21 00000015 41B800000000                mov r8, 0           ; счётчик цикла
    22                                  
    23                                  pop_loop:
    24 0000001B 4939C8                      cmp r8, rcx         ; счётчик превысил длину?
    25 0000001E 7D0A                        jge reverse_done    ; если достигли длины — завершение цикла
    26 00000020 58                          pop rax             ; извлечение символа из стека
    27 00000021 42880407                    mov [rdi + r8], al  ; запись байта в строку
    28 00000025 49FFC0                      inc r8              ; ++
    29 00000028 EBF1                        jmp pop_loop        ; повтор цикла
    30                                  
    31                                  reverse_done:
    32                                      
    33 0000002A C3                          ret                 ; завершение функции (возврат)
    34                                  
    35                                  
    36                                  _start:
    37                                  
    38                                      ; Ввод строки
    39 0000002B B800000000                  mov rax, 0                ; системный вызов read
    40 00000030 BF00000000                  mov rdi, 0                ; файловый дескриптор
    41 00000035 48BE-                       mov rsi, my_string        ; куда сохранять
    41 00000037 [0000000000000000] 
    42 0000003F BA64000000                  mov rdx, 100              ; максимальный размер
    43 00000044 0F05                        syscall
    44                                      
    45 00000046 83F800                      cmp eax, 0                ; сравнить код ошибки с нулём
    46 00000049 723F                        jb err                    ; переход при eax < 0
    47                                  
    48 0000004B 4989C0                      mov r8, rax               ; сохранить длину введённой строки в R8
    49                                  
    50                                      ; Вызов функции reverse_string
    51 0000004E 48BF-                       mov rdi, my_string        ; rdi = адрес строки
    51 00000050 [0000000000000000] 
    52 00000058 4C89C1                      mov rcx, r8               ; rcx = длина строки
    53 0000005B E8A0FFFFFF                  call reverse_string       ; вызывов функции
    54                                  
    55                                  print_result:
    56                                      ; 6. Вывод строки
    57 00000060 B801000000                  mov rax, 1                ; 1 - номер системного вызова функции write
    58 00000065 BF01000000                  mov rdi, 1                ; 1 - дескриптор файла стандартного вызова stdout
    59 0000006A 48BE-                       mov rsi, my_string        ; адрес строки для вывод
    59 0000006C [0000000000000000] 
    60 00000074 4C89C2                      mov rdx, r8               ; длина строки
    61 00000077 0F05                        syscall
    62                                  
    63 00000079 83F800                      cmp eax, 0                ; сравнить код ошибки с нулём
    64 0000007C 720C                        jb err                    ; переход при eax < 0
    65                                  
    66                                  
    67                                      ; 8. Выход из программы
    68 0000007E B83C000000                  mov rax, 60               ; 60 - номер системного вызова exit
    69 00000083 BF00000000                  mov rdi, 0                ; код возврата 0
    70 00000088 0F05                        syscall
    71                                  
    72                                  err:     ; Выход при ошибке
    73 0000008A 89C7                        mov edi, eax                   ; rdi <- eax (код возврата)
    74 0000008C B83C000000                  mov rax, 60                    ; 60 - номер системного вызова exit
    75 00000091 0F05                        syscall                        ; выполняем системный вызов exit
    76                                  
